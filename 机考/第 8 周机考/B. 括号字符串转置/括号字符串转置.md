# 括号字符串转置

## 题目描述

给定字符串 S，由大写/小写英文字母、`(`、`)`、`[`、`]` 组成，且括号匹配。重复执行如下操作直到无法继续：

1) 选择一对整数 (l, r)，满足：
- l < r
- S_{l+1..r-1} 全为英文字母
- (S_l, S_r) 为一对同类匹配括号：() 或 []

2) 令
- 若为 ()：T1 = 对 S_{l+1..r-1} 的每个字母切换大小写后的字符串
- 若为 []：T2 = S_{l+1..r-1} 的逆序

3) 删除区间 [l, r]，并在原位置插入：
- 若为 ()：插入 T1
- 若为 []：插入 T2

可证明上述过程能去除所有括号且最终结果与操作顺序无关。请输出最终字符串。

注：括号匹配指提取 S 中的 `(` 与 `)`（保持相对顺序）构成正确括号序列，且同类括号分别匹配。

## 输入格式

输入一行字符串 S，保证由题述字符构成且括号匹配。

## 输出格式

输出一行，为最终得到的字符串。

## 样例

样例 1
输入
```
[(A)y]x()
```
输出
```
yax
```

样例 2
输入
```
S([VPX[w[t]PcV]PBG])
```
输出
```
SgbpWTpCvxpv
```

## 数据范围与说明

- 1 ≤ |S| ≤ 5 × 10^5