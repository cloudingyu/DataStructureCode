# 妙妙米奇树染色问题

## 题目描述

Y 非常喜欢妙妙米奇屋，于是他在自己家里种了一棵有 $n$ 个节点的妙妙米奇树。

Y 还养了一条名为布鲁托的狗，这条狗总是叼着一把刷子给树染上不同的颜色。

已知树上每个节点最初的颜色是 $0$，节点 $1$ 为树的根，布鲁托会进行 $q$ 次染色操作，每次操作用三个整数 $\text{op}, x, y$ 表示：

- 如果 $\text{op} = 1$，表示将以节点 $x$ 为根的子树（即 $x$ 及其所有子孙后代节点）染成颜色 $y$。
- 如果 $\text{op} = 2$，表示将节点 $x$ 到根节点 $1$ 的路径上的所有节点（包括 $x$ 和 $1$ 本身）都染成颜色 $y$。

请问最后每个节点的颜色是什么。

## 输入格式

第一行两个整数 $n, q$，分别表示节点数量和操作数量。

第二行包含 $n - 1$ 个整数，第 $i$ 个整数 $\text{fa}_i$ 表示第 $i+1$ 号节点的父亲。

接下来 $q$ 行，每行三个正整数 $\text{op}, x, y$，表示一次操作。

## 输出格式

输出一行，包含 $n$ 个整数，用空格隔开，表示每个节点的最终颜色。

## 样例 #1

### 样例输入 #1

```
5 5
1 2 1 2 
2 1 3
2 5 5
2 5 4
2 4 3
2 5 5
```

### 样例输出 #1

```
5 5 0 3 5
```

## 样例 #2

### 样例输入 #2

```
7 7
1 2 1 2 3 4 
2 1 2
2 6 6
2 6 1
1 7 7
1 5 5
1 4 1
2 2 3
```

### 样例输出 #2

```
3 3 1 1 5 1 1
```

## 样例 #3

### 样例输入 #3

```
20 20
1 2 3 1 2 3 3 4 5 1 1 2 11 8 7 2 1 10 17 
2 18 20
1 13 17
1 18 10
2 20 17
1 1 11
1 19 19
2 6 9
1 12 14
1 20 3
2 9 20
2 16 18
1 14 2
1 4 11
1 6 10
1 12 11
1 10 9
2 15 7
2 3 10
2 5 9
2 17 9
```

### 样例输出 #3

```
9 9 10 11 9 10 18 7 11 9 11 11 11 2 7 18 9 11 9 3

```

## 数据范围与提示

- $1 \le n, q \le 10^6$
- $1 \le \text{fa}_i \le i$
- $1 \le \text{op} \le 2$
- $1 \le x \le n$
- $1 \le y \le 10^9$